@use "../../helpers/" as *;

@keyframes fadeInUp {
	from {
		opacity: 0;
		transform: translateY(30px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes slideIn {
	from {
		opacity: 0;
		transform: translateX(-20px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

@keyframes pulse {
	0%, 100% {
		opacity: 1;
	}
	50% {
		opacity: 0.8;
	}
}

.posts {
	display: flex;
	flex-direction: column;
	gap: rem(24);
	margin-top: rem(24);
	animation: fadeInUp 0.6s ease-out 0.2s backwards;

	@include tablet {
		gap: rem(20);
		margin-top: rem(20);
	}

	@include mobile {
		gap: rem(16);
		margin-top: rem(16);
	}

	&__addBtn {
		display: flex;
		justify-content: flex-start;
		animation: slideIn 0.5s ease-out;

		button {
			padding: rem(14) rem(28);
			background: var(--gradient-primary);
			color: white;
			border: none;
			border-radius: var(--radius-lg);
			font-weight: 700;
			font-size: rem(15);
			letter-spacing: 0.5px;
			box-shadow: var(--shadow-glow);
			position: relative;
			overflow: hidden;
			transition: all var(--transition);
			cursor: pointer;
			display: flex;
			align-items: center;
			gap: rem(10);

			@include mobile {
				width: 100%;
				justify-content: center;
				padding: rem(12) rem(24);
				font-size: rem(14);
			}

			&::before {
				content: '';
				position: absolute;
				top: 0;
				left: -100%;
				width: 100%;
				height: 100%;
				background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
				transition: left 0.6s ease;
			}

			&::after {
				content: 'âœ¨';
				font-size: rem(18);
				transition: transform var(--transition);
			}

			&:hover {
				transform: translateY(-3px);
				box-shadow: var(--shadow-glow-strong);
				filter: brightness(1.1);

				&::before {
					left: 100%;
				}

				&::after {
					transform: rotate(20deg) scale(1.2);
				}
			}

			&:active {
				transform: translateY(-1px);
			}
		}
	}

	&__modal {
		position: fixed;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		background: var(--gradient-card);
		backdrop-filter: blur(24px) saturate(180%);
		box-shadow: var(--shadow-xl);
		padding: rem(40);
		border-radius: var(--radius-2xl);
		border: 1px solid var(--border-color);
		max-width: rem(560);
		width: 90%;
		max-height: 85vh;
		overflow-y: auto;
		outline: none;

		@include tablet {
			padding: rem(32);
			max-width: 90%;
		}

		@include mobile {
			padding: rem(24);
			max-width: 95%;
			max-height: 90vh;
		}

		// Custom scrollbar for modal
		&::-webkit-scrollbar {
			width: 8px;
		}

		&::-webkit-scrollbar-track {
			background: rgba(255, 255, 255, 0.05);
			border-radius: 10px;
		}

		&::-webkit-scrollbar-thumb {
			background: var(--gradient-primary);
			border-radius: 10px;
		}

		h2 {
			font-size: rem(28);
			font-weight: 800;
			background: var(--gradient-primary);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
			margin: 0 0 rem(32) 0;
			letter-spacing: -0.5px;

			@include mobile {
				font-size: rem(24);
				margin-bottom: rem(24);
			}
		}
	}

	&__modal-close {
		position: absolute;
		top: rem(20);
		right: rem(20);
		background: rgba(255, 255, 255, 0.08);
		border: 1px solid var(--border-color-medium);
		border-radius: var(--radius-md);
		padding: rem(10) rem(18);
		color: var(--text-color);
		cursor: pointer;
		transition: all var(--transition);
		font-weight: 600;
		font-size: rem(14);

		@include mobile {
			padding: rem(8) rem(14);
			font-size: rem(13);
		}

		&:hover {
			background: rgba(255, 255, 255, 0.12);
			border-color: var(--border-color-strong);
			transform: scale(1.05);
		}

		&:active {
			transform: scale(0.98);
		}
	}

	&__modal form {
		display: flex;
		flex-direction: column;
		gap: rem(24);

		@include mobile {
			gap: rem(20);
		}

		> div {
			display: flex;
			flex-direction: column;
			gap: rem(10);

			label {
				color: var(--text-color);
				font-weight: 600;
				font-size: rem(14);
				letter-spacing: 0.3px;
				display: flex;
				align-items: center;
				gap: rem(8);

				&::before {
					content: '';
					width: 4px;
					height: 4px;
					border-radius: 50%;
					background: var(--gradient-primary);
				}
			}

			input, textarea {
				background: rgba(255, 255, 255, 0.05);
				border: 1.5px solid var(--border-color-medium);
				border-radius: var(--radius-md);
				padding: rem(14) rem(18);
				color: var(--text-color);
				font-size: rem(15);
				transition: all var(--transition);
				font-family: inherit;

				@include mobile {
					padding: rem(12) rem(16);
					font-size: rem(14);
				}

				&:hover {
					border-color: var(--border-color-strong);
					background: rgba(255, 255, 255, 0.07);
				}

				&:focus {
					outline: none;
					border-color: var(--primary);
					background: rgba(0, 132, 255, 0.08);
					box-shadow: 0 0 0 4px rgba(0, 132, 255, 0.15);
					transform: translateY(-2px);
				}

				&::placeholder {
					color: var(--text-muted);
				}
			}

			textarea {
				resize: vertical;
				min-height: rem(120);
				line-height: 1.6;
			}

			input[type="file"] {
				padding: rem(12);
				cursor: pointer;
				border-style: dashed;

				&::file-selector-button {
					background: var(--gradient-primary);
					border: none;
					border-radius: var(--radius-sm);
					padding: rem(10) rem(20);
					color: white;
					font-weight: 600;
					cursor: pointer;
					margin-right: rem(12);
					transition: all var(--transition);
					font-size: rem(14);

					@include mobile {
						padding: rem(8) rem(16);
						font-size: rem(13);
					}

					&:hover {
						transform: translateY(-2px);
						box-shadow: var(--shadow-glow);
						filter: brightness(1.1);
					}
				}
			}

			button[type="submit"] {
				padding: rem(14) rem(28);
				background: var(--gradient-primary);
				color: white;
				border: none;
				border-radius: var(--radius-md);
				font-weight: 700;
				font-size: rem(16);
				letter-spacing: 0.5px;
				margin-top: rem(12);
				box-shadow: var(--shadow-glow);
				transition: all var(--transition);
				cursor: pointer;
				position: relative;
				overflow: hidden;

				@include mobile {
					padding: rem(12) rem(24);
					font-size: rem(15);
				}

				&::before {
					content: '';
					position: absolute;
					top: 0;
					left: -100%;
					width: 100%;
					height: 100%;
					background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
					transition: left 0.6s ease;
				}

				&:hover:not(:disabled) {
					transform: translateY(-3px);
					box-shadow: var(--shadow-glow-strong);
					filter: brightness(1.1);

					&::before {
						left: 100%;
					}
				}

				&:active:not(:disabled) {
					transform: translateY(-1px);
				}

				&:disabled {
					opacity: 0.6;
					cursor: not-allowed;
					animation: pulse 1.5s ease-in-out infinite;
				}
			}
		}
	}

	&__grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
		gap: rem(24);
		animation: fadeInUp 0.6s ease-out 0.3s backwards;

		@include tablet {
			grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
			gap: rem(20);
		}

		@include mobile {
			grid-template-columns: 1fr;
			gap: rem(16);
		}
	}

	&__empty {
		grid-column: 1 / -1;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		gap: rem(20);
		padding: rem(80) rem(40);
		background: rgba(255, 255, 255, 0.03);
		border-radius: var(--radius-xl);
		border: 2px dashed var(--border-color-medium);
		text-align: center;
		animation: fadeInUp 0.6s ease-out;

		@include mobile {
			padding: rem(60) rem(20);
			gap: rem(16);
		}

		&-icon {
			font-size: rem(64);
			animation: float 3s ease-in-out infinite;

			@include mobile {
				font-size: rem(48);
			}
		}

		h3 {
			font-size: rem(24);
			color: var(--text-color);
			margin: 0;
			font-weight: 700;

			@include mobile {
				font-size: rem(20);
			}
		}

		p {
			font-size: rem(16);
			color: var(--text-secondary);
			margin: 0;
			max-width: 400px;

			@include mobile {
				font-size: rem(14);
			}
		}
	}
}
